<?php

/**
 * @file
 * Bulk export of springboard_tag objects generated by Bulk export module.
 */

/**
 * Implements hook_default_springboard_tag().
 */
function springboard_tag_default_springboard_tag() {
  $presets = array();

  $preset = new stdClass();
  $preset->disabled = TRUE; /* Edit this to true to make a default preset disabled initially */
  $preset->api_version = 1;
  $preset->name = 'google_analytics_donation_datalayer';
  $preset->admin_title = 'Google Analytics Donation Datalayer';
  $preset->admin_description = 'Datalayer example for a donation confirmation with tracking through Google Analytics and GTM. Scripted so multiple datalayer instances can be present on the same page. If this will be used for Google Analytics eCommerce tracking, the Springboard GA module should be disabled to avoid double-tracking.';
  $preset->tag = '<script>
  var dataLayer = dataLayer || [];
  dataLayer.push({
    "transactionId":"[donation:did]",
    "transactionTotal":[donation:amount],
    "transactionAffiliation":"",
    "transactionProducts":[{
      "sku":"[donation:node:nid]",
      "name":"[donation:node:title]",
      "category":"[donation:frequency]",
      "price":[donation:amount],
      "quantity":1
    }]
  });
 </script>';
  $preset->weight = 0;
  $preset->settings = array(
    'placement' => 'after body tag',
    'visibility' => array(
      'fundraiser' => array(
        'confirmation' => 1,
      ),
      'user' => array(
        'roles' => array(
          1 => 0,
          3 => 0,
          2 => 0,
          4 => 0,
          5 => 0,
        ),
      ),
      'path' => array(
        'page_specific' => '0',
        'pages' => '',
      ),
      'node' => array(
        'type' => array(
          'article' => 0,
          'page' => 0,
          'donation_form' => 0,
          'email_wrapper' => 0,
          'page_wrapper' => 0,
          'webform' => 0,
          'webform_ab' => 0,
        ),
      ),
    ),
  );
  $presets['donation_datalayer'] = $preset;

  $preset = new stdClass();
  $preset->disabled = TRUE; /* Edit this to true to make a default preset disabled initially */
  $preset->api_version = 1;
  $preset->name = 'general_datalayer';
  $preset->admin_title = 'General Datalayer';
  $preset->admin_description = 'Datalayer containing general information about the user and content.';
  $preset->tag = '<script>
 var dataLayer = dataLayer || [];
 dataLayer.push({
    "nodeType":"[node:type]",
    "userType":"[user:roles]"
  });
</script>';
  $preset->weight = 0;
  $preset->settings = array(
    'placement' => 'after body tag',
    'visibility' => array(
      'fundraiser' => array(
        'confirmation' => 0,
      ),
      'user' => array(
        'roles' => array(
          1 => '1',
          3 => 0,
          2 => 0,
          4 => 0,
          5 => 0,
        ),
      ),
      'path' => array(
        'page_specific' => '0',
        'pages' => '',
      ),
      'node' => array(
        'type' => array(
          'article' => 0,
          'page' => 0,
          'donation_form' => 0,
          'email_wrapper' => 0,
          'page_wrapper' => 0,
          'webform' => 0,
          'webform_ab' => 0,
        ),
      ),
    ),
  );
  $presets['general_datalayer'] = $preset;

  $preset = new stdClass();
  $preset->disabled = TRUE; /* Edit this to true to make a default preset disabled initially */
  $preset->api_version = 1;
  $preset->name = 'google_tag_manager';
  $preset->admin_title = 'Google Tag Manager';
  $preset->admin_description = 'Includes the GTM script. Customize the [container_id] with your GTM container id. ';
  $preset->tag = '<!-- Google Tag Manager -->
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=[container_id]"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({\'gtm.start\':
new Date().getTime(),event:\'gtm.js\'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!=\'dataLayer\'?\'&l=\'+l:\'\';j.async=true;j.src=
\'//www.googletagmanager.com/gtm.js?id=\'+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,\'script\',\'dataLayer\',\'[container_id]\');</script>
<!-- End Google Tag Manager -->';
  $preset->weight = 10;
  $preset->settings = array(
    'placement' => 'after body tag',
    'visibility' => array(
      'fundraiser' => array(
        'confirmation' => 0,
      ),
      'user' => array(
        'roles' => array(
          1 => 0,
          3 => 0,
          2 => 0,
          4 => 0,
          5 => 0,
        ),
      ),
      'path' => array(
        'page_specific' => '0',
        'pages' => '',
      ),
      'node' => array(
        'type' => array(
          'article' => 0,
          'page' => 0,
          'donation_form' => 0,
          'email_wrapper' => 0,
          'page_wrapper' => 0,
          'webform' => 0,
          'webform_ab' => 0,
        ),
      ),
    ),
  );
  $presets['google_tag_manager'] = $preset;

  $preset = new stdClass();
  $preset->disabled = TRUE; /* Edit this to true to make a default preset disabled initially */
  $preset->api_version = 1;
  $preset->name = 'google_universal_donation_datalayer';
  $preset->admin_title = 'Google Universal Donation Datalayer';
  $preset->admin_description = 'Datalayer example for a donation confirmation with tracking through Google Universal and GTM. Scripted so multiple datalayer instances can be present on the same page.';
  $preset->tag = '<script>
  var dataLayer = dataLayer || [];
     dataLayer.push({
     "transactionId" : "[donation:did]",
     "transactionType" : "sale",
     "transactionAffiliation": "",
     "transactionTotal" : [donation:amount],
     "transactionTax": 0,
     "transactionShipping": 0,
     "transactionCurrency":"USD",
     "transactionProducts": [{
       "name": "[donation:node:title]",
       "sku": "[donation:node:nid]",
       "category": "[donation:frequency]",
       "price":  [donation:amount],
       "quantity": 1
     }],
});
</script>';
  $preset->weight = 0;
  $preset->settings = array(
    'placement' => 'after body tag',
    'visibility' => array(
      'fundraiser' => array(
        'confirmation' => 1,
      ),
      'user' => array(
        'roles' => array(
          1 => 0,
          3 => 0,
          2 => 0,
          4 => 0,
          5 => 0,
        ),
      ),
      'path' => array(
        'page_specific' => '0',
        'pages' => '',
      ),
      'node' => array(
        'type' => array(
          'article' => 0,
          'page' => 0,
          'donation_form' => 0,
          'email_wrapper' => 0,
          'page_wrapper' => 0,
          'webform' => 0,
          'webform_ab' => 0,
        ),
      ),
    ),
  );
  $presets['soi_google_universal'] = $preset;

  return $presets;
}
